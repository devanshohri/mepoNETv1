(()=>{"use strict";var e={n:s=>{var t=s&&s.__esModule?()=>s.default:()=>s;return e.d(t,{a:t}),t},d:(s,t)=>{for(var o in t)e.o(t,o)&&!e.o(s,o)&&Object.defineProperty(s,o,{enumerable:!0,get:t[o]})},o:(e,s)=>Object.prototype.hasOwnProperty.call(e,s)};const s=window.jQuery;var t=e.n(s);new class{constructor(){this.addSearchHTML(),this.resultsDiv=t()("#search-overlay-results"),this.openSearch=t()(".header-search"),this.closeSearch=t()(".search-overlay-close"),this.searchOverlay=t()(".search-overlay"),this.searchField=t()("#search-term"),this.typingTimer,this.isSpinnerVisible=!1,this.previousValue,this.events()}events(){this.openSearch.on("click",this.openOverlay.bind(this)),this.closeSearch.on("click",this.closeOverlay.bind(this)),this.searchField.on("keyup",this.typingLogic.bind(this))}typingLogic(){this.searchField.val()!=this.previousValue&&(clearTimeout(this.typingTimer),this.searchField.val()?(this.isSpinnerVisible||(this.resultsDiv.html('<div class="spinner-loader"></div>'),this.isSpinnerVisible=!0),this.typingTimer=setTimeout(this.getResults.bind(this),750)):(this.resultsDiv.html(""),this.isSpinnerVisible=!1)),this.previousValue=this.searchField.val()}getResults(){t().getJSON(mepoNETdata.root_url+"/wp-json/mepoNETWORK/v1/search?term="+this.searchField.val(),(e=>{this.resultsDiv.html(`\n                <div class="search-overlay-results-container">\n                    <div class="one-third">\n                        <h2 class="search-overly-title">Posts</h2>\n                        ${e.posts.length?'<ul class="search-list">':"<p>No posts match for your search</p>"}\n                            ${e.posts.map((e=>`<li><a href="${e.permalink}"><h4>${e.title}</h4></a><p>${"post"==e.postType?`by ${e.authorName}`:""}</p></li>`)).join("")} \n                        ${e.posts.length?"</ul>":""}\n                    </div>\n                    <div class="one-third">\n                        <h2 class="search-overly-title">Events</h2>\n                        ${e.events.length?'<ul class="search-list">':"<p>No Events match for your search</p>"}\n                            ${e.events.map((e=>`<li><a href="${e.permalink}"><h4>${e.title}</h4></a></li>`)).join("")} \n                        ${e.events.length?"</ul>":""}\n                    </div>\n                    <div class="one-third">\n                        <h2 class="search-overly-title">Projects</h2>\n                        ${e.projects.length?'<ul class="search-list">':"<p>No Projects match for your search</p>"}\n                            ${e.projects.map((e=>`<li><a href="${e.permalink}"><h4>${e.title}</h4></a></li>`)).join("")} \n                        ${e.projects.length?"</ul>":""}\n                    </div>\n                \n                    <div class="one-third">\n                        <h2 class="search-overly-title">People</h2>\n                        ${e.users.length?'<ul class="search-list">':"<p>No People for your search</p>"}\n                            ${e.users.map((e=>`<li><a href="${e.permalink}"><h4>${e.display_name}</h4></a></li>`)).join("")}\n                        ${e.users.length?"</ul>":""}\n                    </div>\n                </div>\n            `),this.isSpinnerVisible=!1}))}openOverlay(){this.searchOverlay.addClass("search-overlay--active"),t()("body").addClass("body-no-scroll"),this.searchField.val(""),this.resultsDiv.html(""),setTimeout((()=>this.searchField.focus()),301)}closeOverlay(){this.searchOverlay.removeClass("search-overlay--active"),t()("body").removeClass("body-no-scroll")}addSearchHTML(){t()("body").append('\n        <div class="search-overlay">\n            <div class="search-overlay-top">\n                <div class="search-container">\n                    <input type="text" class="search-term" placeholder="Search Everything" id="search-term">\n                    <div class="material-icons search-overlay-close icon-button">close</div>\n                </div>\n            </div>\n            <div class="search-overlay-results-container">\n                <div id="search-overlay-results">\n                    \n                </div>\n            </div>\n        </div>\n        ')}},new class{constructor(){this.events()}events(){t()(".delete-post-bttn").on("click",this.deletePost),t()(".edit-post-bttn").on("click",this.editPost)}editPost(e){var s=t()(e.target).attr("data-post-id");window.location.href="/edit-post/?post_id="+s}deletePost(e){var s=t()(e.target).parents(".author-post"),o=s.attr("data-post-type"),a="";"post"===o?a="posts":"event"===o?a="event":"project"===o&&(a="project"),t().ajax({beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",mepoNETdata.nonce)},url:mepoNETdata.root_url+"/wp-json/wp/v2/"+a+"/"+s.attr("data-id"),type:"DELETE",success:e=>{s.fadeOut(),console.log("deletePostSuccess"),console.log(e)},error:e=>{console.log("deletePostError"),console.log(e)}})}},new class{constructor(){this.events()}events(){t()(".author-follow-button").on("click",this.ourClickDispatcher.bind(this))}ourClickDispatcher(e){var s=t()(e.target).closest(".author-follow-button"),o=t()(".follow-count");"yes"==s.attr("data-exists")?this.deleteFollow(s,o):this.createFollow(s,o)}createFollow(e,s){t().ajax({beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",mepoNETdata.nonce)},url:mepoNETdata.root_url+"/wp-json/mepoNET/v1/manageFollow",type:"POST",data:{userID:e.data("user")},success:t=>{e.attr("data-exists","yes"),e.text("Unfollow");var o=parseInt(s.text().trim(),10);o++,s.text(o),e.attr("data-follow",t),console.log(t)},error:e=>{console.log(e)}})}deleteFollow(e,s){t().ajax({beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",mepoNETdata.nonce)},url:mepoNETdata.root_url+"/wp-json/mepoNET/v1/manageFollow",data:{follow:e.attr("data-follow")},type:"DELETE",success:t=>{e.attr("data-exists","no"),e.text("Follow");var o=parseInt(s.text().trim(),10);o--,s.text(o),e.attr("data-follow",""),console.log(t)},error:e=>{console.log(e)}})}},new class{constructor(){this.openWindow=t()(".window-open"),this.closeWindow=t()(".window-close"),this.WindowOverlay=t()(".window-overlay"),this.events()}events(){this.openWindow.on("click",this.openOverlay.bind(this)),this.closeWindow.on("click",this.closeOverlay.bind(this))}openOverlay(){console.log("lknlkelfkm"),this.WindowOverlay.addClass("window-overlay--active"),t()("body").addClass("body-no-scroll")}closeOverlay(){this.WindowOverlay.removeClass("window-overlay--active"),t()("body").removeClass("body-no-scroll")}},new class{constructor(){this.events()}events(){t()(".like-bttn").on("click",this.ourClickDispatcher.bind(this))}ourClickDispatcher(e){var s=t()(e.target).closest(".like-bttn");"yes"==s.attr("data-exists")?this.deleteLike(s):this.createLike(s)}createLike(e){t().ajax({beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",mepoNETdata.nonce)},url:mepoNETdata.root_url+"/wp-json/mepoNET/v1/manageLike",type:"POST",data:{postId:e.data("post")},success:s=>{e.attr("data-exists","yes"),e.find(".material-symbols-outlined").removeClass("material-symbols-outlined").addClass("material-symbols-rounded");var t=e.find(".like-count"),o=parseInt(t.find("h4").html(),10);o++,t.find("h4").html(o),e.attr("data-like",s),console.log(s)},error:e=>{console.log(e)}})}deleteLike(e){t().ajax({beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",mepoNETdata.nonce)},url:mepoNETdata.root_url+"/wp-json/mepoNET/v1/manageLike",data:{like:e.attr("data-like")},type:"DELETE",success:s=>{e.attr("data-exists","no"),e.find(".material-symbols-rounded").removeClass("material-symbols-rounded").addClass("material-symbols-outlined");var t=e.find(".like-count"),o=parseInt(t.find("h4").html(),10);o--,t.find("h4").html(o),e.attr("data-like",""),console.log(s)},error:e=>{console.log(e)}})}},new class{constructor(){this.openAddPost=t()(".header-add"),this.closeAddPost=t()("#header-add-close"),this.addPostOverlay=t()(".header-add-overlay"),this.headerButtons=t()(".header-buttons"),this.addButtons=t()(".header-add-buttons div a"),this.events()}events(){this.openAddPost.on("click",this.openAddPostOverlay.bind(this)),this.closeAddPost.on("click",this.closeAddPostOverlay.bind(this))}openAddPostOverlay(){this.addPostOverlay.addClass("header-add-overlay--active"),this.headerButtons.addClass("header-buttons--hidden")}closeAddPostOverlay(){this.addPostOverlay.removeClass("header-add-overlay--active"),this.headerButtons.removeClass("header-buttons--hidden")}},new class{}})();